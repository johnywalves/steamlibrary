var library_all_games=[];function show_library(){var i=$.Deferred(),l=$("#library_list");return l.append("<div id='library_list_loading'><img src='http://cdn.steamcommunity.com/public/images/login/throbber.gif'/>Loading</div>"),get_http("./library.min.json",function(e){var t=JSON.parse(e);if(t.response&&0<Object.keys(t.response).length){(library_all_games=t.response.games).sort(function(e,t){return t.playtime_forever-e.playtime_forever});function r(i){html_element="<ul>",$.each(library_all_games,function(e,t){if(t.name&&(void 0===i||new RegExp(i,"i").test(t.name))&&0!=t.img_logo_url.length){var r="<li><a href='https://store.steampowered.com/app/"+t.appid+"' target=_blank class='library_app'>";r+="<div class='flip-container'>",r+="<div class='flipper'>",r+="<div class='front'><img src='http://media.steampowered.com/steamcommunity/public/images/apps/"+t.appid+"/"+t.img_logo_url+".jpg' /></div>",r+="<div class='back'>",r+="<p class='app'>",r+="<strong>"+t.name+"</strong>",(null!=t.playtime_2weeks||null!=t.playtime_forever&&0!=t.playtime_forever)&&(r+="<br/>",null!=t.playtime_2weeks&&(r+=(t.playtime_2weeks/60).toFixed(2)+" h recente"),null!=t.playtime_2weeks&&null!=t.playtime_forever&&(r+="<br/>"),null!=t.playtime_forever&&(r+=(t.playtime_forever/60).toFixed(2)+" h total")),r+="</p>",r+="</div></div></div>",r+="</a></li>",html_element+=r}e===library_all_games.length-1&&(html_element+="</ul>")}),$("#library_list").html(html_element)}r(),$("#library_search").append("<input type='text' id='library_search_input' placeholder='Search'>"),$("#library_search").show(),$("#library_search_input").keyup(function(e){13!=e.which&&($(this).val()?r($(this).val()):r())}),$("#library_list_loading").remove(),i.resolve()}else $("#library_list_loading").remove(),l.html("<div id='library_private_profile'>Private Profile</div>"),i.reject()}),i.promise()}function get_http(e,t){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){4==this.readyState&&200==this.status&&t(this.responseText)},r.open("GET",e,!0),r.send(null)}function mod(e,t){return Math.round(e-Math.floor(e/t)*t)}