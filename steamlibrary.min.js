var library_all_games=[];function get_http(e,i){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){4==this.readyState&&200==this.status&&i(this.responseText)},r.open("GET",e,!0),r.send(null)}function mod(e,i){return Math.round(e-Math.floor(e/i)*i)}function position_size(){$("#library_list").css("margin-left",mod($(document).width(),$(".library_app").width())/2)}function show_library(){var t=$.Deferred(),a=$("<div id='library_content'></div>");return $("#inner").after(a),a.append("<div id='library_list'><div id='library_list_loading'><img src='http://cdn.steamcommunity.com/public/images/login/throbber.gif'/>Loading</div></div>"),get_http("./library.min.json",function(e){var i=JSON.parse(e);if(i.response&&0<Object.keys(i.response).length){(library_all_games=i.response.games).sort(function(e,i){return i.playtime_forever-e.playtime_forever});var r=function(t){var a=[];$("#library_list").html("<ul>"),$.each(library_all_games,function(e,i){if(i.name&&(void 0===t||new RegExp(t,"i").test(i.name))){if(0!=i.img_logo_url.length){var r="<li><a href='https://store.steampowered.com/app/"+i.appid+"' target=_blank class='library_app'>";r+="<div class='flip-container'>",r+="<div class='flipper'>",r+="<div class='front'><img src='http://media.steampowered.com/steamcommunity/public/images/apps/"+i.appid+"/"+i.img_logo_url+".jpg'>&nbsp;</div>",r+="<div class='back'>",r+="<p><strong>"+i.name+"</strong>",(null!=i.playtime_2weeks||null!=i.playtime_forever&&0!=i.playtime_forever)&&(r+="<br/>",null!=i.playtime_2weeks&&(r+=(i.playtime_2weeks/60).toFixed(2)+" h recente"),null!=i.playtime_2weeks&&null!=i.playtime_forever&&(r+=" / "),null!=i.playtime_forever&&(r+=(i.playtime_forever/60).toFixed(2)+" h total")),r+="</div></div></div>",$("#library_list").append(r+"</p></a></li>")}a.push(i)}})};$("#library_list").append("</ul>"),r(),$("#library_search").append("<input type='text' id='library_search_input' placeholder='Search'>"),$("#library_search").show(),$("#library_search_input").keyup(function(e){13!=e.which&&($(this).val()?r($(this).val()):r())}),$("#library_list_loading").remove(),t.resolve()}else $("#library_list_loading").remove(),a.html("<div id='library_private_profile'>"+localized_strings[language].library.private_profile+"</div>"),t.reject()}),t.promise()}