var library_all_games=[];function show_library(){var t=$.Deferred(),l=$("#library_list");return l.append("<div id='library_list_loading'><img src='img/throbber.gif'/><p>Loading</p></div>"),get_http("./library.min.json",function(e){var i=JSON.parse(e);if(i.response&&0<Object.keys(i.response).length){(library_all_games=i.response.games).sort(function(e,i){return i.playtime_forever-e.playtime_forever});function r(t){html_element="<ul>",$.each(library_all_games,function(e,i){if(i.name&&(void 0===t||new RegExp(t,"i").test(i.name))&&0!=i.img_logo_url.length){var r="<li><a href='https://store.steampowered.com/app/"+i.appid+"' target=_blank class='library_app'>";r+="<div class='flip-container'>",r+="<div class='flipper'>",r+="<div class='front'><img src='//media.steampowered.com/steamcommunity/public/images/apps/"+i.appid+"/"+i.img_logo_url+".jpg' /></div>",r+="<div class='back'>",r+="<p class='app'>",r+="<strong>"+i.name+"</strong>",(null!=i.playtime_2weeks||null!=i.playtime_forever&&0!=i.playtime_forever)&&(r+="<br/>",null!=i.playtime_2weeks&&(r+=(i.playtime_2weeks/60).toFixed(2)+" h in last 2 weeks"),null!=i.playtime_2weeks&&null!=i.playtime_forever&&(r+="<br/>"),null!=i.playtime_forever&&(r+=(i.playtime_forever/60).toFixed(2)+" h in total")),r+="</p>",r+="</div></div></div>",r+="</a></li>",html_element+=r}e===library_all_games.length-1&&(html_element+="</ul>")}),$("#library_list").html(html_element)}r(),$("#library_search").append("<input type='text' id='library_search_input' placeholder='Search'>"),$("#library_search").show(),$("#library_search_input").keyup(function(e){13!=e.which&&($(this).val()?r($(this).val()):r())}),$("#library_list_loading").remove(),t.resolve()}else $("#library_list_loading").remove(),l.html("<div id='library_private_profile'>Private Profile</div>"),t.reject()}),t.promise()}function get_http(e,i){var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){4==this.readyState&&200==this.status&&i(this.responseText)},r.open("GET",e,!0),r.setRequestHeader("Access-Control-Allow-Origin","https://johnywalves.github.io"),r.send(null)}function mod(e,i){return Math.round(e-Math.floor(e/i)*i)}