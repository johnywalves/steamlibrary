var library_all_games=[];function show_library(){var t=$.Deferred(),i=$("#library_list");return i.append("<div id='library_list_loading'><img src='img/throbber.gif'/><p>Loading</p></div>"),get_http("./library.min.json",function(e){var r,e=JSON.parse(e);e.response&&0<Object.keys(e.response).length?((library_all_games=e.response.games).sort(function(e,r){return r.playtime_forever-e.playtime_forever}),(r=function(i){html_element="<ul>",$.each(library_all_games,function(e,r){var t;r.name&&(void 0===i||new RegExp(i,"i").test(r.name))&&0!=r.img_logo_url.length&&(t="<li><a href='https://store.steampowered.com/app/"+r.appid+"' target=_blank class='library_app'>",t+="<div class='flip-container'>",t+="<div class='flipper'>",t+="<div class='front'><img src='//media.steampowered.com/steamcommunity/public/images/apps/"+r.appid+"/"+r.img_logo_url+".jpg' /></div>",t+="<div class='back'>",t+="<p class='app'>",t+="<strong>"+r.name+"</strong>",(null!=r.playtime_2weeks||null!=r.playtime_forever&&0!=r.playtime_forever)&&(t+="<br/>",null!=r.playtime_2weeks&&(t+=(r.playtime_2weeks/60).toFixed(2)+" h in last 2 weeks"),null!=r.playtime_2weeks&&null!=r.playtime_forever&&(t+="<br/>"),null!=r.playtime_forever&&(t+=(r.playtime_forever/60).toFixed(2)+" h in total")),t+="</p>",t+="</div></div></div>",t+="</a></li>",html_element+=t),e===library_all_games.length-1&&(html_element+="</ul>")}),$("#library_list").html(html_element)})(),$("#library_search").append("<input type='text' id='library_search_input' placeholder='Search'>"),$("#library_search").show(),$("#library_search_input").keyup(function(e){13!=e.which&&($(this).val()?r($(this).val()):r())}),$("#library_list_loading").remove(),t.resolve()):($("#library_list_loading").remove(),i.html("<div id='library_private_profile'>Private Profile</div>"),t.reject())}),t.promise()}function get_http(e,r){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){4==this.readyState&&200==this.status&&r(this.responseText)},t.open("GET",e,!0),t.setRequestHeader("Access-Control-Allow-Origin","https://johnywalves.github.io"),t.send(null)}function mod(e,r){return Math.round(e-Math.floor(e/r)*r)}