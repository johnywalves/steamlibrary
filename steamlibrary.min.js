let library_all_games=[];function show_library(){const t=$.Deferred(),r=$("#library_list");return r.append("<div id='library_list_loading'><img src='img/throbber.gif'/><p>Loading</p></div>"),get_http("./library.min.json",function(e){e=JSON.parse(e);if(e.response&&0<Object.keys(e.response).length){(library_all_games=e.response.games).sort(function(e,i){return i.playtime_forever-e.playtime_forever});const i=function(s){let n="<ul>";$.each(library_all_games,function(e,{appid:i,name:t,img_logo_url:r,img_icon_url:a,playtime_forever:l}){r=0!==r.length?r:a;if(t&&(void 0===s||new RegExp(s,"i").test(t))&&0!==r.length){let e=`<li><a href='https://store.steampowered.com/app/${i}' target=_blank class='library_app'>`;e=(e=(e+="<div class='flip-container'>")+"<div class='flipper'>"+`<div class='front'><img src='//media.steampowered.com/steamcommunity/public/images/apps/${i}/${r}.jpg'/></div>`)+"<div class='back'>"+("<h2>"+t+"</h2>"),null!=l&&(e+=`<p>${(l/60).toFixed(2)} h in total</p>`),e=e+"</div></div></div>"+"</a></li>",n+=e}e===library_all_games.length-1&&(n+="</ul>")}),$("#library_list").html(n)};i(),$("#library_search").append("<input type='text' id='library_search_input' placeholder='Search'>"),$("#library_search").show(),$("#library_search_input").keyup(function(e){13!=e.which&&($(this).val()?i($(this).val()):i())}),$("#library_list_loading").remove(),t.resolve()}else $("#library_list_loading").remove(),r.html("<div id='library_private_profile'>Private Profile</div>"),t.reject()}),t.promise()}function get_http(e,i){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){4==this.readyState&&200==this.status&&i(this.responseText)},t.open("GET",e,!0),t.setRequestHeader("Access-Control-Allow-Origin","https://johnywalves.github.io"),t.send(null)}function mod(e,i){return Math.round(e-Math.floor(e/i)*i)}